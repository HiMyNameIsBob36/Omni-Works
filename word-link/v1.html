<!DOCTYPE html>
<html lang="en">
<head>
    <title>Game Galore >> Word Link</title>
    <link href="https://fonts.googleapis.com/css2?family=Cal+Sans&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../word-link/style.css">
    <link rel="icon" href="../word-link/logo.png">
    <meta property="og:title" content="Game Galore >> Word Link" />
    <meta property="og:description" content="Game Link! Currently in development." />
    <meta property="og:image" href="../word-link/logo.png" />
    
</head>

<body>

<div class="container">
    <h1>ğŸ”— Word Chain</h1>

    <div class="current-word" id="currentWord">Loading...</div>
    <div class="letter">Next word must start with: <b id="requiredLetter"></b></div>

    <input type="text" id="wordInput" placeholder="Type word and press Enter..." autocomplete="off">

    <div class="timer">â³ Time Left: <span id="time">10</span>s</div>

    <div>
        Timer Duration:
        <input type="number" id="timerSetting" value="10" min="3" max="60" style="width:60px;">
    </div>

    <div class="buttons">
        <button onclick="pauseTimer()">Pause</button>
        <button onclick="resumeTimer()">Resume</button>
        <button onclick="restartGame()">Restart</button>
    </div>

    <div class="history" id="history"></div>
    <div class="lost" id="lostMessage"></div>
</div>

<script>
// =======================
// list.js (your word list)
// =======================
const wordList = [
    "apple", "tiger", "rabbit", "table", "elephant",
    "night", "tree", "engine", "eagle", "earth",
    "hat", "top", "pen", "notebook", "kangaroo",
    "orange", "grape", "egg", "guitar", "robot",
    "train", "nose", "ear", "ring", "glass"
];

// =======================
// Game Logic
// =======================

let currentWord = "";
let timer;
let timeLeft = 10;
let timerDuration = 10;
let isPaused = false;
let usedWords = [];

const currentWordEl = document.getElementById("currentWord");
const requiredLetterEl = document.getElementById("requiredLetter");
const inputEl = document.getElementById("wordInput");
const timeEl = document.getElementById("time");
const historyEl = document.getElementById("history");
const lostMessageEl = document.getElementById("lostMessage");
const timerSettingEl = document.getElementById("timerSetting");

function startGame() {
    usedWords = [];
    lostMessageEl.textContent = "";
    currentWord = wordList[Math.floor(Math.random() * wordList.length)];
    usedWords.push(currentWord);
    updateDisplay();
    resetTimer();
}

function updateDisplay() {
    currentWordEl.textContent = currentWord;
    const lastLetter = currentWord.slice(-1).toLowerCase();
    requiredLetterEl.textContent = lastLetter.toUpperCase();
    historyEl.innerHTML = usedWords.join(" âœ ");
}

function resetTimer() {
    clearInterval(timer);
    timerDuration = parseInt(timerSettingEl.value);
    timeLeft = timerDuration;
    timeEl.textContent = timeLeft;
    isPaused = false;

    timer = setInterval(() => {
        if (!isPaused) {
            timeLeft--;
            timeEl.textContent = timeLeft;

            if (timeLeft <= 0) {
                clearInterval(timer);
                lostMessageEl.textContent = "â›” Time's up! Game Over.";
                inputEl.disabled = true;
            }
        }
    }, 1000);
}

function pauseTimer() {
    isPaused = true;
}

function resumeTimer() {
    isPaused = false;
}

function restartGame() {
    inputEl.disabled = false;
    inputEl.value = "";
    startGame();
}

inputEl.addEventListener("keydown", function(e) {
    if (e.key === "Enter") {
        const newWord = inputEl.value.trim().toLowerCase();
        if (!newWord) return;

        const requiredLetter = currentWord.slice(-1).toLowerCase();

        if (newWord[0] !== requiredLetter) {
            alert("Word must start with " + requiredLetter.toUpperCase());
            return;
        }

        if (usedWords.includes(newWord)) {
            alert("Word already used!");
            return;
        }

        usedWords.push(newWord);
        currentWord = newWord;
        inputEl.value = "";
        updateDisplay();
        resetTimer();
    }
});

// Start game on load
startGame();
</script>

</body>
</html>
